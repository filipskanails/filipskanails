<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–®–≤–∏–¥–∫—ñ—Å–Ω–µ –Ω–∞—Ä–æ—â–µ–Ω–Ω—è –Ω–∞ –≤–µ—Ä—Ö–Ω—ñ —Ñ–æ—Ä–º–∏ ‚Äî Next Level</title>
  <meta name="description" content="–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ —Ç–∞ —à–≤–∏–¥–∫—ñ —Ç–µ—Ö–Ω—ñ–∫–∏ –Ω–∞—Ä–æ—â–µ–Ω–Ω—è: –≤–µ—Ä—Ö–Ω—ñ —Ñ–æ—Ä–º–∏, —á—ñ—Ç–∫–∏–π –∫–≤–∞–¥—Ä–∞—Ç, —É–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è, –∫–æ–º–±—ñ-–º–∞–Ω—ñ–∫—é—Ä —ñ —Ñ—Ä–µ–Ω—á. –î–æ—Å—Ç—É–ø –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏.">
  <meta name="color-scheme" content="dark">
  <style>
    :root{
      --bg:#0c100e; --card:#121614; --line:#223129;
      --text:#e7f0ea; --muted:#a1b3ab;
      --accent:#12d18e; --accent-2:#8ef3c7;
      --radius:18px; --shadow:0 10px 30px rgba(18,209,142,.18);

      /* runtime-–∑–º—ñ–Ω–Ω—ñ, —è–∫—ñ –≤–∏—Å—Ç–∞–≤–ª—è—î JS */
      --img-top: 320px;       /* –≤–µ—Ä—Ö —Ñ–æ—Ç–æ */
      --cta-top: 560px;       /* –≤–µ—Ä—Ö –∫–Ω–æ–ø–∫–∏ */
      --bubble-top: 440px;    /* –≤–µ—Ä—Ö —Å–∫–ª—è–Ω–æ—ó –ø–ª–∞—à–∫–∏ */
      --glow-top: 380px;      /* –≤–µ—Ä—Ö —Å–≤—ñ—á–µ–Ω–Ω—è */
      --hero-h: 0px;          /* –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∏—Å–æ—Ç–∞ hero */
    }

    *{box-sizing:border-box}
    html,body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ñ–¥ –º–æ–±—ñ–ª—å–Ω–∏–π */
    .wrap{max-width:720px;margin:0 auto;padding:16px}

    /* ===== HERO (mobile only) ===== */
    .hero-stage{
      position:relative;
      min-height:max(min(92vh, 740px), var(--hero-h)); /* JS –ø—ñ–¥–Ω—ñ–º–µ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ */
      /* –Ω–∞ iOS –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –¥–∏–Ω–∞–º—ñ—á–Ω—É –≤–∏—Å–æ—Ç—É */
    }
    @supports (height: 100svh){
      .hero-stage{ min-height:max(min(92svh, 740px), var(--hero-h)) }
    }
    @supports (height: 100dvh){
      .hero-stage{ min-height:max(min(92dvh, 740px), var(--hero-h)) }
    }

    /* —Ñ–æ–Ω–æ–≤–µ —Å—è–π–≤–æ –Ω–∞–≤–∫–æ–ª–æ —Ñ–æ—Ç–æ */
    .hero-stage::after{
      content:""; position:absolute; right:50%; top:var(--glow-top);
      width:min(120vmin, 680px); height:min(120vmin, 680px); border-radius:50%;
      background:radial-gradient(circle at 50% 50%,
        rgba(18,209,142,.95) 0%,
        rgba(18,209,142,.78) 20%,
        rgba(18,209,142,.48) 42%,
        rgba(18,209,142,.24) 62%,
        rgba(18,209,142,.12) 78%,
        rgba(18,209,142,.05) 88%,
        transparent 100%);
      filter:blur(14px);
      transform:translate(50%, -28%);
      pointer-events:none; z-index:0;
    }

    /* —Ç–µ–∫—Å—Ç —É –≤–µ—Ä—Ö–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ, –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    .hero-text{
      position:absolute; top:2%; left:50%; transform:translateX(-50%);
      width:calc(100% - 32px); max-width:640px; text-align:center;
      text-shadow:0 1px 0 rgba(0,0,0,.2); z-index:2;
    }
    .hero-text>*{margin-top:0}
    .eyebrow{font-size:13px; letter-spacing:.06em; color:var(--muted)}
    .chips{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:8px}
    .chip{padding:8px 14px; border-radius:999px; border:1px solid var(--line); background:#0f1713}
    .chip.outline{background:transparent}
    .hl{font-size:clamp(28px,7vw,38px); line-height:1.18; font-weight:900; margin:10px 0 8px}
    .lead{color:var(--muted); margin:0 0 10px}

    /* —Ñ–æ—Ç–æ –ø—Ä–∞–≤—ñ—à–µ —Ü–µ–Ω—Ç—Ä—É, –º–æ–±—ñ–ª—å–Ω–µ */
    .hero-img{
      position:absolute; right:50%; transform:translateX(44%);
      top:var(--img-top); width:min(620px, 112vw);
      object-fit:contain; filter:drop-shadow(0 16px 28px rgba(0,0,0,.35));
      z-index:1; pointer-events:none; will-change:top;
    }

    /* —Å–∫–ª—è–Ω–∞ –ø–ª–∞—à–∫–∞ ‚Äî –ø—Ä–∞–≤–æ—Ä—É—á, —á–∞—Å—Ç–∫–æ–≤–æ –Ω–∞ —Ñ–æ—Ç–æ */
    .hero-bubble{
      position:absolute; right:8%; top:var(--bubble-top);
      max-width:60vw; color:#fff; background:rgba(12,16,14,.55);
      border:1px solid rgba(142,243,199,.22); padding:12px 14px;
      border-radius:28px; backdrop-filter:blur(8px);
      box-shadow:0 10px 30px rgba(0,0,0,.25);
      font-size:14px; line-height:1.35; z-index:2; will-change:top;
    }

    /* CTA –Ω–∞ —Ñ–æ—Ç–æ */
    .hero-cta{
      position:absolute; left:50%; transform:translateX(-50%);
      top:var(--cta-top); display:grid; gap:10px; text-align:center; z-index:3; will-change:top;
    }
    .cta{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:16px 26px; border-radius:999px;
      background:linear-gradient(135deg,var(--accent),#36e6a7);
      color:#fff; font-weight:900; text-transform:uppercase;
      font-size:clamp(18px,5vw,22px); letter-spacing:.3px; white-space:nowrap;
      box-shadow:var(--shadow); text-shadow:0 1px 0 rgba(0,0,0,.12);
    }
    .priceLine{font-weight:800; text-align:center; font-size:16px; color:var(--text); opacity:.95}
    .priceLine .oldline{color:#95a49b; text-decoration:line-through; margin-left:10px}

    /* ===== –°–µ–∫—Ü—ñ—ó (mobile) ===== */
    .section{margin:28px 0}
    h2{font-size:clamp(22px,6vw,28px); margin:0 0 12px}
    .card{background:var(--card); border:1px solid var(--line); border-radius:18px; padding:18px}

    /* –±–æ–Ω—É—Å–∏ + —Ç–∞–π–º–µ—Ä */
    .bonusList{list-style:none; padding:0; margin:12px 0 10px; display:grid; gap:10px}
    .bonusList li{display:flex; align-items:center; gap:10px}
    .bonusList li::before{content:""; width:24px; height:24px; border-radius:999px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2)); box-shadow:0 0 0 2px #103c2d inset; display:inline-block}
    .countdown{display:flex; gap:10px; justify-content:space-between; margin:14px 0 6px}
    .countbox{flex:1 1 0; border:1px solid #2b4136; border-radius:14px; background:#0f1713; padding:14px 8px; display:flex; flex-direction:column; align-items:center; justify-content:center}
    .countbox .n{font-size:clamp(22px,8vw,36px); font-weight:900; line-height:1; white-space:nowrap}
    .countbox .t{color:var(--muted); margin-top:6px; font-size:clamp(12px,3.6vw,15px); white-space:nowrap}

    .priceRow{display:flex; align-items:center; gap:14px; margin:10px 0}
    .pricePill{display:flex; align-items:center; gap:8px; padding:10px 16px; border-radius:999px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:#062217; font-weight:900; box-shadow:var(--shadow)}
    .priceNum{font-size:clamp(20px,6vw,26px); font-weight:900}
    .old{color:#95a49b; text-decoration:line-through; font-size:16px; display:none}

    /* —Å–ª–∞–π–¥–µ—Ä —Ä–æ–±—ñ—Ç */
    .slider{display:grid; grid-auto-flow:column; grid-auto-columns:88%; gap:12px; overflow-x:auto; padding:4px; scroll-snap-type:x mandatory}
    .slide{scroll-snap-align:center; border-radius:14px; overflow:hidden; border:1px solid var(--line); background:#0b0f0d}
    .slide img{aspect-ratio:1/1; object-fit:cover}

    .bubbleWrap{position:relative}
    .bubble{background:#e8efe9; color:#0c100e; border-radius:20px; padding:16px 14px 18px; max-width:740px; margin:0 auto}
    .bubbleWrap::before{content:""; position:absolute; left:16px; bottom:-10px; width:18px; height:18px; background:#e8efe9; transform:rotate(45deg)}

    /* –ü–ª–∞–≤–∞—é—á–∞ –∫–Ω–æ–ø–∫–∞ (mobile) */
    .floater{position:fixed; left:0; right:0; bottom:12px; z-index:50;
      opacity:0; transform:translateY(16px); pointer-events:none;
      transition:opacity .28s ease, transform .28s ease}
    .floater.show{opacity:1; transform:translateY(0); pointer-events:auto}
    .floater-inner{max-width:720px; margin:0 auto; padding:0 16px}
    .floater .cta{width:100%}
  </style>
</head>
<body>
  <div class="wrap">

    <!-- ===== HERO ===== -->
    <section id="hero" class="hero-stage">
      <img class="hero-img" src="img/main.png" alt="–Ü–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫—É—Ä—Å—É">

      <div class="hero-text">
        <div class="eyebrow">–û–ù–õ–ê–ô–ù –ö–£–†–° –í–Ü–î –Ü–ù–°–¢–†–£–ö–¢–û–†–ê –ú–ê–ù–Ü–ö–Æ–†–£</div>
        <div class="chips">
          <span class="chip">–î–æ—Å—Ç—É–ø –Ω–∞–∑–∞–≤–∂–¥–∏</span>
          <span class="chip outline" id="chipDate">–°—å–æ–≥–æ–¥–Ω—ñ</span>
        </div>
        <h1 class="hl">–®–≤–∏–¥–∫—ñ—Å–Ω–µ –Ω–∞—Ä–æ—â–µ–Ω–Ω—è<br>–Ω–∞ –≤–µ—Ä—Ö–Ω—ñ —Ñ–æ—Ä–º–∏</h1>
        <p class="lead">–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ —Ç–∞ —à–≤–∏–¥–∫—ñ —Ç–µ—Ö–Ω—ñ–∫–∏, —è–∫—ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –æ–¥—Ä–∞–∑—É –∑–∞—Ä–æ–±–ª—è—Ç–∏ —Ç–∞ –ø—ñ–¥–≤–∏—â–∏—Ç–∏ —á–µ–∫.</p>
      </div>

      <div class="hero-bubble" id="heroBubble">
        –ö–ª—ñ—î–Ω—Ç–∏ —à—É–∫–∞—é—Ç—å —Å—É—á–∞—Å–Ω–∏—Ö —ñ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏—Ö –º–∞–π—Å—Ç—Ä—ñ–≤.
        –ù–µ –≤—Ç—Ä–∞—á–∞–π —Å–≤—ñ–π —à–∞–Ω—Å –±—É—Ç–∏ —Å–µ—Ä–µ–¥ –∫—Ä–∞—â–∏—Ö!
      </div>

      <div class="hero-cta">
        <a id="buyTop" class="cta">–ü—Ä–∏–¥–±–∞—Ç–∏ –∫—É—Ä—Å</a>
        <div id="priceLine" class="priceLine">–ª–∏—à–µ ‚Äî –≥—Ä–Ω <span class="oldline">‚Äî –≥—Ä–Ω</span></div>
      </div>
    </section>

    <!-- ===== PROMO (—Ç–∞–π–º–µ—Ä) ‚Äî –≤—ñ–¥—Ä–∞–∑—É –ø—ñ–¥ HERO ===== -->
    <section id="promo" class="section card">
      <h2>–ü—Ä–∏—î–¥–Ω—É–π—Å—è –∑–∞—Ä–∞–∑ —Ç–∞ –æ—Ç—Ä–∏–º–∞–π –±–æ–Ω—É—Å–∏</h2>
      <ul class="bonusList">
        <li>–ì–∞–π–¥ ¬´–ü—Ä–∏—á–∏–Ω–∏ –≤—ñ–¥—à–∞—Ä—É–≤–∞–Ω—å¬ª</li>
        <li>–í—ñ–¥–µ–æ-—É—Ä–æ–∫ ¬´–ß–∏—Å—Ç–∏–π –∫–æ–º–±—ñ –∑—Ä—ñ–∑¬ª</li>
      </ul>

      <div class="countdown" id="countdown">
        <div class="countbox"><div class="n" id="cd-h">00</div><div class="t">–ì–æ–¥–∏–Ω</div></div>
        <div class="countbox"><div class="n" id="cd-m">00</div><div class="t">–•–≤–∏–ª–∏–Ω</div></div>
        <div class="countbox"><div class="n" id="cd-s">00</div><div class="t">–°–µ–∫—É–Ω–¥</div></div>
      </div>

      <div class="buy-note">–í—Å—Ç–∏–≥–Ω–∏ –∑–∞–ø–∏—Å–∞—Ç–∏—Å—è —Ç–∞ –Ω–∞–≤—á–∞–π—Å—è –∑–∞ –Ω–∞–π–≤–∏–≥—ñ–¥–Ω—ñ—à–æ—é —Ü—ñ–Ω–æ—é</div>

      <div class="priceRow">
        <div class="pricePill"><small class="muted" style="color:#083a27">–ª–∏—à–µ</small> <span id="pricePromo" class="priceNum">‚Äî –≥—Ä–Ω</span></div>
        <div id="oldPromo" class="old">‚Äî –≥—Ä–Ω</div>
      </div>
    </section>

    <!-- HOW -->
    <section id="how" class="section">
      <h2>–Ø–∫ –±—É–¥–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ –∫—É—Ä—Å</h2>
      <div class="card">
        <div class="bubbleWrap">
          <div class="bubble">–ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –æ–¥—Ä–∞–∑—É –æ—Ç—Ä–∏–º—É—î—à –¥–æ—Å—Ç—É–ø –¥–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –∑ —É—Ä–æ–∫–∞–º–∏ —Ç–∞ —á–∞—Ç –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.</div>
        </div>
      </div>
    </section>

    <!-- WHAT -->
    <section class="section">
      <h2>–©–æ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –Ω–∞ –º–æ—î–º—É –∫—É—Ä—Å—ñ</h2>
      <div class="card">
        <ul class="bonusList">
          <li>–ú–∏—Ç—Ç—î–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ñ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞—Ä–æ–±–ª—è—Ç–∏</li>
          <li>30+ —á—ñ—Ç–∫–∏—Ö –≤—ñ–¥–µ–æ—É—Ä–æ–∫—ñ–≤</li>
          <li>–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏, —â–æ –µ–∫–æ–Ω–æ–º–ª—è—Ç—å —á–∞—Å</li>
          <li>–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç</li>
        </ul>
      </div>
    </section>

    <!-- GALLERY -->
    <section class="section" id="gallery">
      <h2>–í—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è —É—á–Ω—ñ–≤</h2>
      <div class="slider" aria-label="–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Å–ª–∞–π–¥–µ—Ä —Ä–æ–±—ñ—Ç">
        <figure class="slide"><img src="img/work-1.jpg" alt="–†–æ–±–æ—Ç–∞ 1" loading="lazy"></figure>
        <figure class="slide"><img src="img/work-2.jpg" alt="–†–æ–±–æ—Ç–∞ 2" loading="lazy"></figure>
        <figure class="slide"><img src="img/work-3.jpg" alt="–†–æ–±–æ—Ç–∞ 3" loading="lazy"></figure>
      </div>
    </section>

    <!-- REVIEWS -->
    <section class="section">
      <h2>–í—ñ–¥–≥—É–∫–∏</h2>
      <div class="bubbleWrap">
        <div class="bubble">–î–æ–±—Ä–∏–π —Ä–∞–Ω–æ–∫) –í–∂–µ –∫—Ä–∞—â–µ –≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤—É—é –≤–µ—Ä—Ö–Ω—ñ —Ñ–æ—Ä–º–∏, —Å—Ç–∞—Ä–∞—é—Å—è —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–∫—Ä—ñ–∑—å. –î–∞–ª—ñ ‚Äî –≤–∏–∫–ª–∞–¥–Ω–∏–π üòä</div>
      </div>
      <div style="text-align:center;margin-top:12px">
        <a href="#promo" class="cta">–ü—Ä–∏–¥–±–∞—Ç–∏ –∫—É—Ä—Å</a>
      </div>
    </section>
  </div>

  <!-- Floating CTA -->
  <div class="floater" id="floatCta" aria-hidden="true">
    <div class="floater-inner">
      <a id="buyFloat" class="cta">–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø</a>
    </div>
  </div>

  <script>
    /* ===== –ö–û–ù–§–Ü–ì ===== */
    const WORKER = "https://filipskanails-pay.timanov-business.workers.dev";
    const THANK  = "https://filipskanails.github.io/filipskanails/thankyou.html";
    const TITLE  = "–î–æ—Å—Ç—É–ø –¥–æ –∫—É—Ä—Å—É Next Level";
    const BASE_PRICE     = 10000;
    const DISCOUNT_PRICE = 7800;
    const PROMO_HOURS    = 5;

    const $ = s=>document.querySelector(s);
    const fmt = n=>new Intl.NumberFormat("uk-UA").format(n);

    // –¥–∞—Ç–∞ –≤ —á–∏–ø—ñ
    (function(){
      const chip = $("#chipDate");
      if(chip){
        const dt = new Date();
        chip.textContent = `${dt.getDate()} ${dt.toLocaleString("uk-UA",{month:"long"})}`;
      }
    })();

    function setPayHref(el, amount){
      if(!el) return;
      const u = new URL(WORKER);
      u.searchParams.set("amount", String(amount));
      u.searchParams.set("title", TITLE);
      u.searchParams.set("thank", THANK);
      el.href = u.toString(); el.target="_blank"; el.rel="noopener";
    }

    function renderPrices(active, old){
      const line = $("#priceLine");
      if(line){
        line.innerHTML = old && old>active
          ? `–ª–∏—à–µ ${fmt(active)} –≥—Ä–Ω <span class="oldline">${fmt(old)} –≥—Ä–Ω</span>`
          : `—Ü—ñ–Ω–∞ ${fmt(active)} –≥—Ä–Ω`;
      }
      const pP=$("#pricePromo"), oP=$("#oldPromo");
      if(pP) pP.textContent = fmt(active)+" –≥—Ä–Ω";
      if(oP){ if(old&&old>active){oP.style.display="inline"; oP.textContent=fmt(old)+" –≥—Ä–Ω"} else oP.style.display="none" }
      setPayHref($("#buyTop"),   active);
      setPayHref($("#buyFloat"), active);
    }

    /* ===== –°–¢–ê–ë–Ü–õ–¨–ù–ê –†–û–ó–ö–õ–ê–î–ö–ê HERO (mobile) ===== */
    function layoutHero(){
      const stage  = document.getElementById('hero');
      const text   = stage.querySelector('.hero-text');
      const img    = stage.querySelector('.hero-img');
      const cta    = stage.querySelector('.hero-cta');
      if(!stage || !text || !img || !cta) return;

      const stageRect = stage.getBoundingClientRect();
      const textRect  = text.getBoundingClientRect();

      const GAP = 8; // ¬´–≤–ø—Ä–∏—Ç—É–ª¬ª –ø—ñ–¥ –ª—ñ–¥–æ–º
      const desiredImgTop = Math.max(0, Math.round(textRect.bottom - stageRect.top + GAP));

      img.style.top = desiredImgTop + 'px';
      const imgRect = img.getBoundingClientRect();

      // –§—ñ–∫—Å–æ–≤–∞–Ω–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –≤—ñ–¥–Ω–æ—Å–Ω–æ —Ñ–æ—Ç–æ (–º–æ–±—ñ–ª—å–Ω–∏–π)
      const BUBBLE_OFFSET = 120;      // px –≤—ñ–¥ –≤–µ—Ä—Ö—É —Ñ–æ—Ç–æ
      const CTA_RATIO     = 0.68;     // —á–∞—Å—Ç–∫–∞ –≤–∏—Å–æ—Ç–∏ —Ñ–æ—Ç–æ

      const finalImgTop = desiredImgTop; // –º–æ–±—ñ–ª—å–Ω–∏–π: –Ω–µ –æ–±–º–µ–∂—É—î–º–æ –≤–Ω–∏–∑ ‚Äî –≤–∏—Å–æ—Ç—É –¥–æ–¥–∞–º–æ
      const ctaTop      = Math.round(finalImgTop + imgRect.height * CTA_RATIO);
      const bubbleTop   = Math.round(finalImgTop + BUBBLE_OFFSET);
      const glowTop     = Math.round(finalImgTop + imgRect.height * 0.52) - 220;

      stage.style.setProperty('--img-top', finalImgTop + 'px');
      stage.style.setProperty('--cta-top', ctaTop + 'px');
      stage.style.setProperty('--bubble-top', bubbleTop + 'px');
      stage.style.setProperty('--glow-top', Math.max(0, glowTop) + 'px');

      // –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∏—Å–æ—Ç–∞ hero, —â–æ–± #promo –Ω–µ –Ω–∞—ó–∂–¥–∂–∞–≤
      const ctaRect = cta.getBoundingClientRect();
      const neededH = Math.round((ctaTop - stageRect.top) + ctaRect.height + 24);
      stage.style.setProperty('--hero-h', neededH + 'px');
    }
    function layoutHeroSafe(){
      layoutHero();
      requestAnimationFrame(layoutHero);
      setTimeout(layoutHero, 120);
    }

    window.addEventListener('DOMContentLoaded', ()=>{
      const img = document.querySelector('.hero-img');
      if(img && !img.complete){ img.addEventListener('load', layoutHeroSafe, {once:true}); }
      layoutHeroSafe();
    });
    window.addEventListener('load', layoutHeroSafe);
    window.addEventListener('resize', layoutHeroSafe);
    window.addEventListener('orientationchange', layoutHeroSafe);
    window.addEventListener('pageshow', layoutHeroSafe);

    /* ===== –¢–∞–π–º–µ—Ä —ñ —Ü—ñ–Ω–∏ ===== */
    const COUNT = $("#countdown");
    const key = "promoEndsAt-v1";
    const now = Date.now();
    let ends = parseInt(localStorage.getItem(key)||"0",10);
    if(!ends || ends<now){ ends = now + PROMO_HOURS*60*60*1000; localStorage.setItem(key,String(ends)); }

    function tick(){
      const left = Math.max(0, ends - Date.now());
      if(left<=0){
        if (COUNT) COUNT.style.display = "none";
        renderPrices(BASE_PRICE, null);
        return;
      }
      if (COUNT) COUNT.style.display = "flex";
      renderPrices(DISCOUNT_PRICE, BASE_PRICE);

      const h=Math.floor(left/3600000),
            m=Math.floor((left%3600000)/60000),
            s=Math.floor((left%60000)/1000),
            pad=n=>String(n).padStart(2,"0");
      $("#cd-h").textContent = pad(h);
      $("#cd-m").textContent = pad(m);
      $("#cd-s").textContent = pad(s);
      setTimeout(tick,1000);
    }
    tick();

    /* ===== –ü–ª–∞–≤–∞—é—á–∞ –∫–Ω–æ–ø–∫–∞ ===== */
    (function(){
      const hero = $("#hero");
      const floater = $("#floatCta");
      if(!hero || !floater) return;
      const io = new IntersectionObserver((entries)=>{
        const e = entries[0];
        if(e && e.isIntersecting){ floater.classList.remove("show"); }
        else{ floater.classList.add("show"); }
      }, {threshold: 0.15});
      io.observe(hero);
    })();
  </script>
</body>
</html>
