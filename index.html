<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ІНСТАКВАДРАТИ. ІДЕАЛЬНИЙ КОМБІ. ІДЕАЛЬНИЙ ФРЕНЧ. ТВІЙ NEXT LEVEL.</title>
  <meta name="description" content="Цей курс — твоя можливість перейти з “майстра базовика” у впевнену, сильну майстриню з власним стилем і високим прайсом. Next Level — коли твої роботи говорять самі за себе.">
  <meta name="color-scheme" content="dark">
  <style>
    :root{
      --bg:#0c100e; --card:#121614; --line:#223129;
      --text:#e7f0ea; --muted:#a1b3ab;
      --accent:#004a25; --accent-2:#0b7d47; --accent-rgb:0,74,37; --accent2-rgb:11,125,71;
      --radius:24px; --shadow:0 10px 28px rgba(0,0,0,.24);
      --mint:#8EF3C7; --pop:#FFB56B; --pop-2:#FF8A5C; --text-strong:#f3fbf7;
    }

    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;
      overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .wrap{max-width:720px;margin:0 auto;padding:16px}
    .accent{color:var(--accent-2);font-weight:900;text-shadow:0 0 8px rgba(var(--accent2-rgb),.32)}
    .section{ content-visibility:auto; contain-intrinsic-size: 1px 800px; }
    h1,h2,.footer .brand{ color:var(--text-strong); }

    /* background glows */
    body{ position:relative; z-index:0; }
    body::before{
      content:""; position:fixed; inset:-20% -10% -30% -10%; z-index:-1; pointer-events:none;
      background:
        radial-gradient(60% 40% at 80% 10%, rgba(255,181,107,.10), transparent 55%),
        radial-gradient(50% 60% at 15% 20%, rgba(142,243,199,.10), transparent 60%),
        radial-gradient(40% 40% at 85% 75%, rgba(11,125,71,.18), transparent 70%);
      filter:blur(28px);
    }

    /* ===== HERO (скорочено: без змін функціоналу) ===== */
    #hero{margin-left:-16px;margin-right:-16px;width:calc(100% + 32px);position:relative;z-index:1}
    .hero-stage{position:relative;height:760px;overflow:hidden;isolation:isolate}
    .hero-stage::after{
      content:""; position:absolute; right:50%; top:380px;
      width:min(120vmin,680px); height:min(120vmin,680px); border-radius:50%;
      background:
        radial-gradient(circle at 50% 50%, rgba(var(--accent2-rgb),1) 0%,
          rgba(var(--accent2-rgb),.70) 28%, rgba(var(--accent-rgb),.40) 60%,
          rgba(var(--accent-rgb),.16) 78%, rgba(var(--accent-rgb),.08) 90%, transparent 100%),
        radial-gradient(60% 40% at 50% 0%, rgba(255,255,255,.14), transparent 55%);
      filter:blur(16px); transform:translate(50%,-28%); pointer-events:none; z-index:0;
    }
    .hero-text{position:absolute;top:2%;left:50%;transform:translateX(-50%);
      width:calc(100% - 32px);max-width:640px;text-align:center;text-shadow:0 1px 0 rgba(0,0,0,.2);z-index:2}
    .eyebrow{font-size:13px;letter-spacing:.06em;color:var(--muted)}
    .hl{font-size:clamp(28px,7vw,38px);line-height:1.18;font-weight:900;margin:10px 0 8px}
    .hl.hl-mix{display:grid;gap:2px}
    .hl.hl-mix .line{display:block}
    .hl.hl-mix .line.r{text-align:right}.hl.hl-mix .line.l{text-align:left}
    .lead{color:var(--muted);margin:0 0 10px;text-align:center}
    .hero-img{position:absolute;right:50%;transform:translateX(44%);
      top:320px; width:min(620px,112vw);object-fit:contain;
      filter:drop-shadow(0 16px 28px rgba(0,0,0,.35)); z-index:1; pointer-events:none;}
    .hero-bubble{position:absolute; right:8%; top:440px; max-width:60vw; color:#fff;
      background:linear-gradient(180deg, rgba(18,25,21,.66), rgba(18,25,21,.52));
      border:1px solid rgba(142,243,199,.35); padding:12px 14px; border-radius:28px;
      backdrop-filter:blur(8px); box-shadow:0 10px 26px rgba(0,0,0,.22), inset 0 1px 0 rgba(255,255,255,.10);
      font-size:14px; line-height:1.35; z-index:2;}
    .hero-cta{position:absolute;left:50%;transform:translateX(-50%);top:560px;
      display:grid;gap:10px;text-align:center;z-index:3}
    .cta{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:16px 26px;border-radius:999px;background:
        radial-gradient(120% 180% at 50% 0%, rgba(255,255,255,.18), rgba(255,255,255,0) 55%),
        linear-gradient(135deg,var(--accent-2),var(--accent));color:#fff;font-weight:900;text-transform:uppercase;
      font-size:clamp(18px,5vw,22px);letter-spacing:.3px;white-space:nowrap;box-shadow:var(--shadow), 0 0 0 1px rgba(255,255,255,.06) inset;text-shadow:0 1px 0 rgba(0,0,0,.18);}
    .cta{ position:relative; overflow:hidden; }
    .cta::after{
      content:""; position:absolute; top:-60%; bottom:-60%; left:-120%;
      width:50%; transform:skewX(-20deg);
      background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.28) 50%, transparent 100%);
      animation:ctaShine 5.5s ease-in-out infinite;
    }
    @keyframes ctaShine{ 0%{ left:-120%; } 15%{ left:140%; } 100%{ left:140%; } }

    /* ===== PROMO / ТАРИФИ (без змін) ===== */
    #promo{margin-top:-18px;padding-top:18px;margin-left:-16px;margin-right:-16px;width:calc(100% + 32px);position:relative;z-index:5}
    .promoCard{position:relative;border-radius:var(--radius); padding:18px; background:var(--card);
      border:1px solid var(--line); backdrop-filter:blur(6px);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02),0 10px 26px rgba(0,0,0,.22); overflow:hidden;}
    .promoHead{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px; flex-wrap:wrap;}
    .promoTitle{ flex:1 1 100%; text-align:center; font-size:clamp(26px,6.5vw,32px); font-weight:900; }
    .promoBadges{ flex:1 1 100%; display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
    .pBadge{font-size:12px; padding:6px 10px; border-radius:999px; letter-spacing:.2px; color:#0a2419; font-weight:900; white-space:nowrap;
      background:linear-gradient(135deg, rgba(142,243,199,.92), rgba(255,181,107,.92)); box-shadow:0 8px 22px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.18);}

    .countdown{display:flex;gap:10px;justify-content:space-between;margin:10px 0 6px}
    .countbox{flex:1 1 0;border:1px solid #2b4136;border-radius:14px;background:#0f1713;padding:14px 8px;
      display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:inset 0 1px 0 rgba(255,255,255,.06)}
    .countbox .n{font-size:clamp(22px,8vw,36px);font-weight:900;line-height:1}
    .countbox .t{color:var(--muted);margin-top:6px;font-size:clamp(12px,3.6vw,15px)}

    .tariffs{ display:grid; gap:14px; grid-template-columns:1fr; margin-top:10px }
    @media (min-width:740px){ .tariffs{ grid-template-columns:1fr 1fr; } }
    .tariff{position:relative; border-radius:22px; padding:16px; overflow:hidden;
      background:linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,0)), #111713;
      border:1px solid #2b3e36; box-shadow:inset 0 0 0 1px rgba(255,255,255,.028), 0 14px 34px rgba(0,0,0,.28);
      display:flex; flex-direction:column;}
    .tariff::after{content:""; position:absolute; inset:auto -12% -22% -12%; height:44%;
      background:radial-gradient(60% 100% at 50% 100%, rgba(var(--accent2-rgb),.14), transparent 60%); filter:blur(12px); pointer-events:none;}

    /* ===== ABOUT (без змін) ===== */
    #about{margin-top:20px;margin-left:-16px;margin-right:-16px;width:calc(100% + 32px)}
    #about h2{text-align:center;margin-bottom:10px}
    .aboutLead{text-align:center;color:var(--muted);margin:0 0 18px}
    .aboutCard{position:relative;border-radius:var(--radius);padding:18px 14px;background:var(--card);
      border:1px solid var(--line);backdrop-filter:blur(6px);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02),0 10px 26px rgba(0,0,0,.22)}

    /* ===== PROGRAM (твій оновлений контент + фікси з попереднього кроку) ===== */
    #program{ margin:28px 0; margin-left:-16px; margin-right:-16px; width:calc(100% + 32px); position:relative; }
    #program .head{ text-align:center; margin-bottom:12px; position:relative; }
    #program .head .sub{ color:var(--muted); }
    .trackGrid{ position:relative; display:grid; gap:14px; grid-template-columns:1fr; padding:0 16px; }
    @media (min-width:740px){ .trackGrid{ grid-template-columns:1fr 1fr 1fr; } }
    details.track{ border-radius:22px; background:rgba(16,23,19,.65); border:1px solid #2e4439;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02), 0 16px 36px rgba(0,0,0,.28); overflow:hidden; position:relative;}
    summary.tHead{
      list-style:none; cursor:pointer; user-select:none;
      display:grid; grid-template-columns: 1fr auto 26px; align-items:center; gap:10px;
      padding:14px 16px; position:relative;}
    summary.tHead::-webkit-details-marker{ display:none }
    .tTitle{ font-weight:900; font-size:18px; display:flex; align-items:center; gap:10px; min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
    .tDot{ width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg, var(--mint), var(--pop)); box-shadow:0 0 0 4px rgba(142,243,199,.18); flex:0 0 10px; }
    .tBadge{ font-size:12px; padding:6px 10px; border-radius:999px; color:#042015; font-weight:900; white-space:nowrap; background:linear-gradient(135deg, rgba(142,243,199,.92), rgba(255,181,107,.92)); box-shadow:0 8px 20px rgba(0,0,0,.26), inset 0 1px 0 rgba(255,255,255,.18);}
    .tChevron{ width:26px; height:26px; border-radius:999px; border:1px solid #2e4439; display:grid; place-items:center; background:#0f1713; color:#cfe6dc; font-weight:900; transition:transform .25s ease; }
    details[open] .tChevron{ transform:rotate(180deg) }
    .tListPro{ counter-reset: step; margin:0; padding:6px 14px 14px; display:grid; gap:10px; }
    .tListPro li{ list-style:none; display:grid; grid-template-columns:auto 1fr; gap:10px; align-items:flex-start;
      background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50)); border:1px solid #30463b; border-radius:14px; padding:10px 12px; }
    .tListPro li .num{ counter-increment: step; width:26px; height:26px; border-radius:50%; display:grid; place-items:center; font-size:12px; font-weight:900; color:#062217;
      background:radial-gradient(120% 180% at 50% 0%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%), linear-gradient(135deg, var(--accent-2), var(--accent)); box-shadow:0 0 0 3px rgba(142,243,199,.18);}
    .tListPro li .num::after{ content: counter(step) }
    .tListPro li .txt{ font-size:clamp(15.5px,4.2vw,18px); line-height:1.5; }
    .tListPro b{ color:var(--mint); }
    @media (max-width: 520px){
      summary.tHead{ grid-template-columns: 1fr 26px; row-gap:6px; }
      .tBadge{ grid-column: 1 / -1; justify-self:start; }
    }

    /* ===== FOOTER ===== */
    footer.footer{margin-top:26px;padding:22px 16px 96px;text-align:center;color:var(--muted);border-top:1px solid var(--line)}
    .footer .brand{font-size:22px;margin:0 0 6px;font-weight:700}
    .footer .legal{font-size:14px;line-height:1.5;max-width:720px;margin:10px auto 0;opacity:.95}
    .footer .links{margin-top:10px;font-size:14px}
    .footer .links a{color:var(--muted);text-decoration:underline dotted;margin:0 8px}
    .footer small.copy{display:block;margin-top:12px;opacity:.7}

    /* ===== FLOATING CTA ===== */
    .floater{position:fixed;left:0;right:0;bottom:12px;z-index:5000;opacity:0;transform:translateY(16px);pointer-events:none;transition:opacity .28s ease,transform .28s ease}
    .floater.show{opacity:1;transform:translateY(0);pointer-events:auto}
    .floater-inner{max-width:720px;margin:0 auto;padding:0 16px}
    .floater .cta{width:100%}

    /* ======== NEW: CHECKOUT MODAL — повний редизайн ======== */
    .co-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:grid; place-items:center; z-index:9999; opacity:0; pointer-events:none; transition:opacity .22s ease;}
    .co-backdrop.show{ opacity:1; pointer-events:auto }

    .co-modal{
      width:min(760px, 96vw); max-height:96vh; overflow:auto; position:relative;
      border-radius:26px; padding:0; background:linear-gradient(180deg, rgba(18,25,21,.85), rgba(18,25,21,.75)), #101713;
      border:1px solid rgba(142,243,199,.28);
      box-shadow:
        0 40px 90px rgba(0,0,0,.65),
        0 0 0 1px rgba(255,255,255,.05) inset;
      isolation:isolate;
    }

    /* Градієнтна сяюча рамка */
    .co-modal::before{
      content:""; position:absolute; inset:-1px; border-radius:27px; pointer-events:none; z-index:-1;
      background:
        conic-gradient(from 210deg, rgba(142,243,199,.55), rgba(255,181,107,.55), rgba(11,125,71,.55), rgba(142,243,199,.55));
      filter:blur(16px); opacity:.55;
    }

    .co-top{
      position:sticky; top:0; z-index:2;
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      padding:14px 16px;
      background:
        linear-gradient(180deg, rgba(20,28,24,.9), rgba(20,28,24,.7)),
        radial-gradient(120% 220% at 0% 0%, rgba(142,243,199,.06), transparent 60%);
      border-bottom:1px solid #2b4136;
      backdrop-filter:blur(10px);
    }
    .co-title{ font-weight:900; font-size:20px; display:flex; align-items:center; gap:10px }
    .co-title .lock{
      width:22px;height:22px;border-radius:7px;display:grid;place-items:center;
      background:linear-gradient(135deg, var(--accent-2), var(--accent)); box-shadow:0 0 0 3px rgba(142,243,199,.15);
      color:#062217; font-weight:900;
    }
    .co-close{ width:36px; height:36px; border-radius:999px; border:1px solid var(--line); background:#0f1713; color:#c9ded4; display:grid; place-items:center }

    /* Інфобокс про безпеку */
    .co-safe{
      margin:12px 16px 0; border-radius:14px; padding:10px 12px; display:flex; gap:10px; align-items:flex-start;
      background:linear-gradient(180deg, rgba(21,30,26,.9), rgba(21,30,26,.7));
      border:1px solid #2f4a3f;
      box-shadow:inset 0 1px 0 rgba(255,255,255,.06);
      font-size:14px; color:#d7efe4;
    }
    .co-safe .ic{
      width:22px; height:22px; border-radius:7px; flex:0 0 22px; display:grid; place-items:center;
      background:linear-gradient(135deg, rgba(142,243,199,.95), rgba(255,181,107,.92)); color:#062217; font-weight:900;
      box-shadow:0 0 0 3px rgba(142,243,199,.18);
    }

    /* Псуедо-степпер */
    .ps{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin:12px 16px 0; }
    .ps button{
      border-radius:16px; border:1px solid #2e4439; background:
        radial-gradient(130% 180% at 50% 0%, rgba(255,255,255,.06), rgba(255,255,255,0) 55%),
        linear-gradient(180deg, rgba(18,25,21,.85), rgba(18,25,21,.65));
      padding:12px; text-align:left; color:#e6fff3;
      transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .ps .pname{ font-weight:900; font-size:15px } .ps .pprice{ font-weight:800; margin-top:6px; opacity:.95 }
    .ps button[aria-selected="true"]{
      background:linear-gradient(135deg,var(--accent-2),var(--accent)); color:#062217; border-color:transparent;
      box-shadow:0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.16);
      transform:translateY(-1px);
    }

    .co-body{ padding:12px 16px 16px; display:grid; gap:12px }
    .trust{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; font-size:12px; color:#bfead7 }
    .trust .tbadge{
      display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:999px;
      background:linear-gradient(135deg, rgba(142,243,199,.18), rgba(255,181,107,.18));
      border:1px solid #2b4136;
    }
    .trust .dot{ width:8px; height:8px; border-radius:50%; background:linear-gradient(135deg,var(--mint),var(--pop)); box-shadow:0 0 0 3px rgba(142,243,199,.18); }

    /* Поля форми */
    .co-grid{ display:grid; gap:10px; grid-template-columns:1fr 1fr; }
    .co-grid .full{ grid-column:1 / -1 }
    .field{ display:grid; gap:6px; position:relative }
    .field label{ font-size:13px; color:#cfe6dc }
    .req{ font-size:11px; padding:2px 6px; border-radius:999px; margin-left:6px;
      background:linear-gradient(135deg, rgba(255,181,107,.95), rgba(142,243,199,.95)); color:#062217; font-weight:900; }
    .hint{ font-size:12px; color:#a8cbbd }

    .inp{ width:100%; padding:14px 14px 14px 42px; border-radius:14px; background:#0f1713; border:1px solid #2b4136; color:var(--text); outline:none;
      transition:border-color .18s ease, box-shadow .18s ease; }
    .inp:focus{
      border-color:transparent;
      box-shadow:
        0 0 0 1px rgba(255,255,255,.06) inset,
        0 0 0 2px rgba(142,243,199,.28),
        0 0 0 6px rgba(142,243,199,.12);
    }
    .iconL{
      position:absolute; left:10px; top:31px; width:22px; height:22px; border-radius:6px; display:grid; place-items:center;
      background:linear-gradient(135deg, var(--accent-2), var(--accent)); color:#062217; font-weight:900;
      border:1px solid #2b4136; box-shadow:0 0 0 3px rgba(142,243,199,.16);
    }

    .agree{ display:flex; gap:10px; align-items:flex-start; font-size:14px; color:#cfe6dc; padding:10px; border-radius:12px;
      background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.5)); border:1px solid #2f4a3f; }
    .agree strong{ color:#8EF3C7 }
    .co-err{ display:none; margin-top:4px; padding:10px; border-radius:10px; background:rgba(255,80,80,.08); border:1px solid rgba(255,80,80,.25); color:#ffbcbc; }
    .co-err.show{ display:block }

    .co-actions{ display:flex; gap:10px; align-items:center; justify-content:space-between; margin-top:6px }
    .co-pay{ font-size:15px; color:#d7efe4 }
    .co-actions .cta{ padding:14px 20px }
    .subnote{ font-size:12px; color:#a8cbbd; margin-top:6px }

    @media (max-width:740px){
      .co-grid{ grid-template-columns:1fr }
      .iconL{ top:31px }
    }

    /* Плаваюча CTA не показувати під модалкою */
    body.modal-open{ overflow:hidden }
    body.modal-open .floater{ display:none !important; }
  </style>
</head>
<body>
  <div class="wrap">

    <!-- ===== HERO ===== -->
    <section id="hero" class="hero-stage section">
      <img class="hero-img" src="img/main.png" alt="Інструктор курсу">
      <div class="hero-text">
        <div class="eyebrow">ОНЛАЙН КУРС ВІД ІНСТРУКТОРА МАНІКЮРУ&nbsp;<span class="accent">АННИ ФІЛІПСЬКОЇ</span></div>
        <h1 class="hl hl-mix">
          <span class="line l">ІНСТАКВАДРАТИ.</span><span class="line r">ІДЕАЛЬНИЙ КОМБІ.</span>
          <span class="line l">ІДЕАЛЬНИЙ ФРЕНЧ.</span><span class="line r">ТВІЙ NEXT LEVEL.</span>
        </h1>
        <p class="lead">Цей курс — твоя можливість перейти з “майстра базовика” у впевнену, сильну майстриню з власним стилем і високим прайсом.<br>Next Level — коли твої роботи говорять самі за себе.</p>
      </div>
      <div class="hero-bubble" id="heroBubble">Клієнти шукають сучасних і професійних майстрів. Не втрачай свій шанс бути серед кращих!</div>
      <div class="hero-cta">
        <a id="buyTop" class="cta" href="#promo">Придбати курс</a>
      </div>
    </section>

    <!-- ===== PROMO / ТАРИФИ ===== -->
    <section id="promo" class="section">
      <div class="promoCard">
        <div class="promoHead">
          <div class="promoTitle">Тарифи</div>
          <div class="promoBadges">
            <span class="pBadge">Активна знижка</span>
            <span class="pBadge">Оптимальний прайс</span>
          </div>
        </div>

        <div class="countdown" id="countdown" aria-live="polite">
          <div class="countbox"><div class="n" id="cd-h">00</div><div class="t">Годин</div></div>
          <div class="countbox"><div class="n" id="cd-m">00</div><div class="t">Хвилин</div></div>
          <div class="countbox"><div class="n" id="cd-s">00</div><div class="t">Секунд</div></div>
        </div>

        <div class="tariffs">
          <!-- ГРУПОВИЙ -->
          <article class="tariff" aria-labelledby="t-g-name">
            <div class="tHead">
              <div class="tName" id="t-g-name">
                <span class="tLabel" style="font-weight:900; font-size:28px">Груповий</span>
                <span class="tTag" style="font-size:11px;padding:4px 8px;border-radius:999px;background:linear-gradient(135deg, rgba(11,125,71,.95), rgba(0,74,37,.95));color:#062217;font-weight:900">Оптимальний вибір</span>
              </div>
              <div class="priceWrap">
                <div class="priceRow">
                  <div class="pricePill"><span id="gPrice" class="priceNum">—</span><span class="cur">грн</span></div>
                  <div id="gOld" class="old">—&nbsp;грн</div>
                </div>
                <div id="gSave" class="saveBadge" style="display:none">Економія — <b>—&nbsp;грн</b></div>
              </div>
            </div>
            <ul class="tList" style="list-style:none;padding:0;margin:12px 0 16px;display:grid;gap:10px;font-size:clamp(16px,4.4vw,19px);line-height:1.55">
              <li style="background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50));border:1px solid #30463b;border-radius:14px;padding:10px 12px">Доступ <b>3 місяці</b></li>
              <li style="background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50));border:1px solid #30463b;border-radius:14px;padding:10px 12px"><b>Без</b> зворотнього зв’язку</li>
              <li style="background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50));border:1px solid #30463b;border-radius:14px;padding:10px 12px">Сертифікат про <b>перегляд курсу</b></li>
            </ul>
            <a id="buyGroup" class="cta" href="#">Придбати груповий</a>
          </article>

          <!-- ІНДИВІДУАЛЬНИЙ -->
          <article class="tariff" aria-labelledby="t-i-name" style="outline:1px solid rgba(142,243,199,.18)">
            <div class="tHead">
              <div class="tName" id="t-i-name">
                <span class="tLabel" style="font-weight:900; font-size:28px">Індивідуальний</span>
                <span class="tTag" style="font-size:11px;padding:4px 8px;border-radius:999px;background:linear-gradient(135deg, rgba(11,125,71,.95), rgba(0,74,37,.95));color:#062217;font-weight:900">ХІТ</span>
              </div>
              <div class="priceWrap">
                <div class="priceRow">
                  <div class="pricePill"><span id="iPrice" class="priceNum">—</span><span class="cur">грн</span></div>
                  <div id="iOld" class="old">—&nbsp;грн</div>
                </div>
                <div id="iSave" class="saveBadge" style="display:none">Економія — <b>—&nbsp;грн</b></div>
              </div>
            </div>
            <ul class="tList" style="list-style:none;padding:0;margin:12px 0 16px;display:grid;gap:10px;font-size:clamp(16px,4.4vw,19px);line-height:1.55">
              <li style="background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50));border:1px solid #30463b;border-radius:14px;padding:10px 12px">Доступ <b>8 місяців</b></li>
              <li style="background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50));border:1px solid #30463b;border-radius:14px;padding:10px 12px"><b>Зворотній</b> зв’язок</li>
              <li style="background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50));border:1px solid #30463b;border-radius:14px;padding:10px 12px">Сертифікат <b>після проходження</b></li>
              <li style="background:linear-gradient(180deg, rgba(14,20,17,.62), rgba(14,20,17,.50));border:1px solid #30463b;border-radius:14px;padding:10px 12px"><b>Бонуси:</b> Гайд по відшаруванням</li>
            </ul>
            <a id="buyIndiv" class="cta" href="#">Придбати індивідуальний</a>
          </article>
        </div>
      </div>
    </section>

    <!-- ===== ABOUT ===== -->
    <section id="about" class="section">
      <h2>Про мене</h2>
      <p class="aboutLead">Привіт, я Анна Філіпська</p>
      <div class="aboutCard">
        <ul class="aboutList" style="list-style:none;padding:0;margin:0;display:grid;gap:14px">
          <li style="display:flex;gap:12px;align-items:center"><span style="width:32px;height:32px;border-radius:50%;background:conic-gradient(from 210deg, rgba(11,125,71,.95), rgba(0,74,37,.95));display:block;box-shadow:0 0 0 4px rgba(142,243,199,.12)"></span>За <span class="accent">6 років</span> зробила понад <span class="accent">5000 манікюрів</span>.</li>
          <li style="display:flex;gap:12px;align-items:center"><span style="width:32px;height:32px;border-radius:50%;background:conic-gradient(from 210deg, rgba(11,125,71,.95), rgba(0,74,37,.95));display:block;box-shadow:0 0 0 4px rgba(142,243,199,.12)"></span><span><span class="accent">90%</span> моїх учениць почали заробляти вже <b>після бази</b>.</span></li>
        </ul>
      </div>
    </section>

    <!-- ===== PROGRAM ===== -->
    <section id="program" class="section">
      <div class="head">
        <h2>Програма курсу “Next Level”</h2>
        <div class="sub">Три блоки: комбі-манікюр, тверді матеріали та опил, покриття + френч</div>
      </div>

      <div class="trackGrid">
        <!-- 1. Комбі манікюр -->
        <details class="track" open>
          <summary class="tHead">
            <div class="tTitle"><span class="tDot"></span> Комбі манікюр</div>
            <div class="tBadge">8 модулів</div>
            <div class="tChevron">⌄</div>
          </summary>
          <ol class="tListPro">
            <li><div class="num"></div><div class="txt">Техніка <b>зняття матеріалу</b></div></li>
            <li><div class="num"></div><div class="txt">Розбір <b>фрез</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Інструменти</b></div></li>
            <li><div class="num"></div><div class="txt">Схема роботи фрезою <b>«полум’я»</b> та <b>чисті синуси</b> без порізів і пропилів</div></li>
            <li><div class="num"></div><div class="txt"><b>Зріз ножицями</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Combi</b> манікюр на <b>вологій шкірі</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Combi</b> манікюр по шкірі з <b>налиплою кутикулою</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Чоловічий</b> манікюр</div></li>
          </ol>
        </details>

        <!-- 2. Тверді матеріали та опил -->
        <details class="track" open>
          <summary class="tHead">
            <div class="tTitle"><span class="tDot"></span> Тверді матеріали та опил</div>
            <div class="tBadge">11 модулів</div>
            <div class="tChevron">⌄</div>
          </summary>
          <ol class="tListPro">
            <li><div class="num"></div><div class="txt"><b>Тверді матеріали</b>: огляд та властивості</div></li>
            <li><div class="num"></div><div class="txt">Розбір <b>баз для підложки</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Механічна</b> та <b>хімічна</b> підготовка нігтьової пластини</div></li>
            <li><div class="num"></div><div class="txt">Як <b>укріплювати різні види нігтів</b>?</div></li>
            <li><div class="num"></div><div class="txt">Схема <b>«бортик»</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Випил</b> натурального нігтя на <b>мінімальній довжині</b></div></li>
            <li><div class="num"></div><div class="txt">Укріплення <b>builder-гелем</b> нігтів форм <b>квадрат</b> і <b>мигдаль</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Реставрація</b> чіткого квадрату <b>гелем-желе</b></div></li>
            <li><div class="num"></div><div class="txt"><b>Добудова бічних паралелей</b> полігелем для чіткого квадрату</div></li>
            <li><div class="num"></div><div class="txt"><b>Укріплення</b> та <b>реставрація</b> «клюючих нігтів»</div></li>
            <li><div class="num"></div><div class="txt"><b>Випил</b> натурального нігтя на <b>середній та довгій довжині</b></div></li>
          </ol>
        </details>

        <!-- 3. Покриття + френч -->
        <details class="track" open>
          <summary class="tHead">
            <div class="tTitle"><span class="tDot"></span> Покриття + френч</div>
            <div class="tBadge">3 модулі</div>
            <div class="tChevron">⌄</div>
          </summary>
          <ol class="tListPro">
            <li><div class="num"></div><div class="txt"><b>Ідеальне покриття</b> під кутикулу</div></li>
            <li><div class="num"></div><div class="txt">Як <b>покривати без пробілів</b></div></li>
            <li><div class="num"></div><div class="txt">Техніка <b>ідеального френчу</b></div></li>
          </ol>
        </details>
      </div>
    </section>

    <!-- ===== REVIEWS (скорочено) ===== -->
    <section id="reviews" class="section">
      <div class="head">
        <h2>Відгуки</h2>
        <div class="muted">Результати та враження після Next Level</div>
      </div>
      <div class="reel" id="reviewsReel" style="display:grid;grid-auto-flow:column;grid-auto-columns:86%;gap:14px;overflow-x:auto;padding:6px 16px 12px">
        <article class="slide is-active"><div class="bubble" style="background:linear-gradient(180deg, rgba(18,25,21,.75), rgba(18,25,21,.65));border:1px solid #2e4439;border-radius:18px;padding:14px">“Швидкість і якість зросли моментально!”</div></article>
      </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
      <div class="brand">Анна Філіпська</div>
      <div class="links"><a href="#offer">Договір оферти</a> · <a href="#privacy">Політика конфіденційності</a></div>
      <p class="legal">Умови повернення: згідно із Законом України «Про захист прав споживачів» гарантуємо повернення коштів
        протягом 14 днів, якщо курс вам не підійде.</p>
      <small class="copy">© Created by | All rights Reserved</small>
    </footer>
  </div>

  <!-- Floating CTA -->
  <div class="floater" id="floatCta" aria-hidden="true">
    <div class="floater-inner"><a id="buyFloat" class="cta">Отримати доступ до курсу</a></div>
  </div>

  <!-- ========= CHECKOUT MODAL (перероблена) ========= -->
  <div class="co-backdrop" id="checkoutBackdrop" aria-hidden="true">
    <div class="co-modal" role="dialog" aria-modal="true" aria-labelledby="coTitle">
      <div class="co-top">
        <div class="co-title" id="coTitle"><span class="lock">🔒</span> Оформлення доступу</div>
        <button id="coClose" class="co-close" aria-label="Закрити">✕</button>
      </div>

      <!-- Інфобокс про дані -->
      <div class="co-safe">
        <div class="ic">✓</div>
        <div><b>Ваші дані захищені</b> (SSL). Використовуємо їх <b>лише для зв’язку з менеджером</b> і видачі доступу до курсу. Нічого зайвого, все — по ділу.</div>
      </div>

      <!-- Вибір тарифу -->
      <div class="ps" role="tablist" aria-label="Вибір тарифу">
        <button id="psGroup" data-plan="group" role="tab" aria-selected="true" aria-pressed="true">
          <div class="pname">Груповий</div>
          <div class="pprice" id="psGroupPrice">— грн</div>
        </button>
        <button id="psIndiv" data-plan="individual" role="tab" aria-selected="false" aria-pressed="false">
          <div class="pname">Індивідуальний</div>
          <div class="pprice" id="psIndivPrice">— грн</div>
        </button>
      </div>

      <div class="co-body">
        <div class="trust">
          <span class="tbadge"><span class="dot"></span> SSL-шифрування</span>
          <span class="tbadge"><span class="dot"></span> Дані не передаємо третім сторонам</span>
          <span class="tbadge"><span class="dot"></span> Лише для комунікації</span>
        </div>

        <form id="checkoutForm" novalidate>
          <div class="co-grid">
            <div class="field">
              <label for="coFirst">Ім’я <span class="req">обов’язково</span></label>
              <div class="iconL">👤</div>
              <input id="coFirst" class="inp" type="text" autocomplete="given-name" placeholder="Анна">
              <div class="hint">Як у месенджері — щоб менеджер звертався коректно</div>
            </div>
            <div class="field">
              <label for="coLast">Прізвище <span class="req">обов’язково</span></label>
              <div class="iconL">📝</div>
              <input id="coLast" class="inp" type="text" autocomplete="family-name" placeholder="Філіпська">
            </div>

            <div class="field full">
              <label for="coEmail">Email <span class="req">обов’язково</span></label>
              <div class="iconL">✉️</div>
              <input id="coEmail" class="inp" type="email" autocomplete="email" placeholder="name@email.com">
              <div class="hint">Надішлемо підтвердження й лист із доступом</div>
            </div>

            <div class="field full">
              <label for="coPhone">Телефон <span class="req">обов’язково</span></label>
              <div class="iconL">📞</div>
              <input id="coPhone" class="inp" type="tel" inputmode="tel" placeholder="+380">
              <div class="hint">Потрібен, якщо email потрапить у «спам» або для швидкого старту</div>
            </div>
          </div>

          <div class="agree" style="margin-top:6px">
            <input id="coAgree" type="checkbox">
            <label for="coAgree">Погоджуюсь з <a href="#offer">офертою</a> і <a href="#privacy">політикою конфіденційності</a>. <strong>Мої дані потрібні лише для зв’язку та доступу до курсу.</strong></label>
          </div>

          <div id="coErr" class="co-err" role="alert"></div>

          <div class="co-actions">
            <div class="co-pay">До сплати: <b id="coPay">— грн</b></div>
            <button id="coBtn" class="cta" type="submit">Перейти до оплати</button>
          </div>
          <div class="subnote">Натискаючи «Перейти до оплати», ви перейдете на захищену сторінку Monobank.</div>
        </form>
      </div>
    </div>
  </div>

  <script>
    /* ===== PERF MODE DETECT ===== */
    (function(){
      const isLowMem = (navigator.deviceMemory && navigator.deviceMemory <= 4);
      const isLowCPU = (navigator.hardwareConcurrency && navigator.hardwareConcurrency <= 4);
      const isVeryNarrow = matchMedia('(max-width: 420px)').matches;
      if(isLowMem || isLowCPU || isVeryNarrow){
        document.documentElement.classList.add('perf-lite');
      }
    })();

    /* ===== CONFIG ===== */
    const WORKER="https://filipskanails-pay.timanov-business.workers.dev";
    const THANK ="https://filipskanails.github.io/filipskanails/thankyou.html";
    const TITLE ="Доступ до курсу Next Level";
    const PROMO_HOURS=5;
    const GROUP_BASE=2, GROUP_DISC=1, INDIV_BASE=4, INDIV_DISC=2;
    const MONO_ENDPOINT = WORKER + "/mono/checkout";

    const $=s=>document.querySelector(s);
    const fmt=n=>new Intl.NumberFormat("uk-UA").format(n);

    /* ===== HERO layout (як раніше) ===== */
    function cssVarNum(el,name,fallback){ const v=getComputedStyle(el).getPropertyValue(name).trim(); const num=parseFloat(v); return Number.isFinite(num)?num:fallback; }
    function computeHeroLayout(){
      const stage=$("#hero"), text=stage?.querySelector('.hero-text'), img=stage?.querySelector('.hero-img'), cta=stage?.querySelector('.hero-cta');
      if(!stage||!text||!img||!cta) return;
      const GAP=8, EXTRA=40;
      const textBottom=text.offsetTop+text.offsetHeight, imgTop=textBottom+GAP; img.style.top=imgTop+"px";
      const imgH=img.getBoundingClientRect().height||420;
      const ctaTop=Math.round(imgTop+imgH*.68)+EXTRA, bubbleTop=Math.round(imgTop+200), glowTop=Math.round(imgTop+imgH*.52)-220;
      stage.style.setProperty('--img-top', imgTop+'px'); stage.style.setProperty('--cta-top', ctaTop+'px'); stage.style.setProperty('--bubble-top', bubbleTop+'px'); stage.style.setProperty('--glow-top', Math.max(0,glowTop)+'px');
      const needH=Math.round(ctaTop + cta.offsetHeight + 24); stage.style.setProperty('--hero-h', needH+'px'); stage.style.height=needH+'px';
    }
    const ro=new ResizeObserver(()=>computeHeroLayout());
    window.addEventListener('DOMContentLoaded', ()=>{
      const img=$('.hero-img'), text=$('.hero-text'); if(img) ro.observe(img); if(text) ro.observe(text); if(img && !img.complete){ img.addEventListener('load', computeHeroLayout, {once:true}); }
      computeHeroLayout();
    });
    window.addEventListener('orientationchange', computeHeroLayout);
    window.addEventListener('load', computeHeroLayout);

    /* ===== PROMO timer & prices ===== */
    const COUNT=$("#countdown");
    const key="promoEndsAt-v1";
    const now=Date.now();
    let ends=parseInt(localStorage.getItem(key)||"0",10);
    if(!ends||ends<now){ ends=now+PROMO_HOURS*60*60*1000; localStorage.setItem(key,String(ends)); }

    function renderHeroPrice(active, old){
      const line=$("#priceLine");
      if(line){
        line.innerHTML = old && old>active
          ? `лише ${fmt(active)}&nbsp;грн <span class="oldline">${fmt(old)}&nbsp;грн</span>`
          : `ціна ${fmt(active)}&nbsp;грн`;
      }
    }

    function setTariffPrices(promo){
      const gActive = promo ? GROUP_DISC : GROUP_BASE;
      const iActive = promo ? INDIV_DISC : INDIV_BASE;
      const gOld    = promo ? GROUP_BASE : null;
      const iOld    = promo ? INDIV_BASE : null;

      const gP=$("#gPrice"), gO=$("#gOld"), iP=$("#iPrice"), iO=$("#iOld");
      if(gP) gP.textContent = fmt(gActive);
      if(iP) iP.textContent = fmt(iActive);
      if(gO){ if(gOld){ gO.style.display="block"; gO.innerHTML=`${fmt(gOld)}&nbsp;грн`; } else gO.style.display="none"; }
      if(iO){ if(iOld){ iO.style.display="block"; iO.innerHTML=`${fmt(iOld)}&nbsp;грн`; } else iO.style.display="none"; }

      const gS=$("#gSave"), iS=$("#iSave");
      if(promo){
        if(gS){ gS.style.display="inline-block"; gS.innerHTML = `Економія — <b>${fmt(gOld-gActive)}&nbsp;грн</b>`; }
        if(iS){ iS.style.display="inline-block"; iS.innerHTML = `Економія — <b>${fmt(iOld-iActive)}&nbsp;грн</b>`; }
      }else{
        if(gS) gS.style.display="none";
        if(iS) iS.style.display="none";
      }

      renderHeroPrice(gActive, gOld);
    }

    function tick(){
      const left=Math.max(0, ends - Date.now());
      const promoActive = left>0;
      if(COUNT) COUNT.style.display = promoActive ? "flex" : "none";
      setTariffPrices(promoActive);
      if(!promoActive) return;
      const h=Math.floor(left/3600000), m=Math.floor((left%3600000)/60000), s=Math.floor((left%60000)/1000);
      const pad=n=>String(n).padStart(2,"0");
      $("#cd-h").textContent=pad(h); $("#cd-m").textContent=pad(m); $("#cd-s").textContent=pad(s);
      setTimeout(tick,1000);
    }
    tick();

    /* ===== Scroll helpers ===== */
    function visibleRatio(el){
      if(!el) return 0; const r=el.getBoundingClientRect(), vw=innerWidth, vh=innerHeight;
      const ix=Math.max(0, Math.min(r.right, vw) - Math.min(r.left, vw));
      const iy=Math.max(0, Math.min(r.bottom, vh) - Math.max(r.top, 0));
      return (ix*iy) / Math.max(1, r.width*r.height);
    }
    function pulseTariffs(){
      document.querySelectorAll('.tariff').forEach(card=>{
        card.animate([{transform:'scale(1)'},{transform:'scale(1.02)'},{transform:'scale(1)'}],{duration:700,easing:'ease'});
      });
    }
    function afterScrollSettledThenPulse(){
      const card = document.querySelector('#promo .promoCard'); if(!card) return;
      const ratio = visibleRatio(card);
      if(ratio >= 0.6){ pulseTariffs(); return; }
      const io = new IntersectionObserver((entries, obs)=>{
        const e = entries[0];
        if(e && e.isIntersecting && e.intersectionRatio >= 0.6){ pulseTariffs(); obs.disconnect(); }
      }, { threshold: [0.6] });
      io.observe(card);
    }
    function waitScrollEnd(callback, idleMs=140, capMs=1200){
      let t=null, done=false;
      const onEnd=()=>{ if(done) return; done=true; removeEventListener('scroll', onScroll, {passive:true}); clearTimeout(t); callback(); };
      const onScroll=()=>{ clearTimeout(t); t=setTimeout(onEnd, idleMs); };
      addEventListener('scroll', onScroll, {passive:true}); onScroll(); setTimeout(onEnd, capMs);
    }
    function scrollToTariffsSmart(){
      const promo=$("#promo"); if(!promo) return;
      const tariffs = promo.querySelector('.tariffs') || promo;
      const rect = tariffs.getBoundingClientRect();
      const currentY = window.scrollY || document.documentElement.scrollTop || 0;
      const vh = innerHeight;
      const offset = Math.max(12, Math.round(vh * 0.08));
      const y = currentY + rect.top - offset;
      window.scrollTo({ top: Math.max(0, y), behavior:'smooth' });
      waitScrollEnd(afterScrollSettledThenPulse);
    }
    (function(){
      const floatBtn=$("#buyFloat"), topBtn=$("#buyTop");
      if(floatBtn){ floatBtn.textContent="Отримати доступ до курсу"; floatBtn.addEventListener('click', e=>{ e.preventDefault(); scrollToTariffsSmart(); }); }
      if(topBtn){ topBtn.addEventListener('click', e=>{ e.preventDefault(); scrollToTariffsSmart(); }); }
    })();

    /* ===== MODAL (checkout) логіка з урахуванням нового UI ===== */
    (function(){
      const backdrop=$("#checkoutBackdrop"), coForm=$("#checkoutForm"), coBtn=$("#coBtn"), coErr=$("#coErr");
      const bClose=$("#coClose"), bGroup=$("#psGroup"), bIndiv=$("#psIndiv");
      let selectedPlan="group";

      function currentPromoActive(){ const left=Math.max(0,(parseInt(localStorage.getItem("promoEndsAt-v1")||"0",10))-Date.now()); return left>0; }
      function getPrices(){ const promo=currentPromoActive(); return { group: promo?GROUP_DISC:GROUP_BASE, indiv: promo?INDIV_DISC:INDIV_BASE }; }
      function updatePlanUI(){
        const p=getPrices();
        $("#psGroupPrice").textContent=fmt(p.group)+" грн";
        $("#psIndivPrice").textContent=fmt(p.indiv)+" грн";
        $("#coPay").innerHTML=fmt(selectedPlan==="group"?p.group:p.indiv)+"&nbsp;грн";
        [bGroup,bIndiv].forEach(btn=>{ const is=btn.dataset.plan===selectedPlan; btn.setAttribute("aria-pressed", String(is)); btn.setAttribute("aria-selected", String(is)); });
      }
      function openCheckout(plan){
        selectedPlan=plan||"group"; updatePlanUI();
        document.body.classList.add('modal-open');
        backdrop.classList.add("show"); backdrop.removeAttribute("aria-hidden");
        $("#coFirst").focus();
      }
      function closeCheckout(){
        backdrop.classList.remove("show"); backdrop.setAttribute("aria-hidden","true");
        document.body.classList.remove('modal-open');
      }

      const btnGroup=$("#buyGroup"), btnIndiv=$("#buyIndiv");
      if(btnGroup) btnGroup.addEventListener("click", e=>{e.preventDefault(); openCheckout("group");});
      if(btnIndiv) btnIndiv.addEventListener("click", e=>{e.preventDefault(); openCheckout("individual");});
      bGroup.addEventListener("click", ()=>{ selectedPlan="group"; updatePlanUI(); });
      bIndiv.addEventListener("click", ()=>{ selectedPlan="individual"; updatePlanUI(); });
      bClose.addEventListener("click", closeCheckout);
      backdrop.addEventListener("click", e=>{ if(e.target===backdrop) closeCheckout(); });
      document.addEventListener("keydown", e=>{ if(e.key==="Escape" && backdrop.classList.contains("show")) closeCheckout(); });

      const isEmail=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
      const normPhone=v=>v.replace(/[^\d+]/g,"");

      coForm.addEventListener("submit", async e=>{
        e.preventDefault(); coErr.classList.remove("show"); coErr.textContent="";
        const firstName=$("#coFirst").value.trim(), lastName=$("#coLast").value.trim(), email=$("#coEmail").value.trim().toLowerCase(), phone=normPhone($("#coPhone").value.trim()), agree=$("#coAgree").checked;
        if(firstName.length<2 || lastName.length<2){ coErr.textContent="Вкажіть ім’я та прізвище."; coErr.classList.add("show"); return; }
        if(!isEmail(email)){ coErr.textContent="Некоректний email."; coErr.classList.add("show"); return; }
        if(phone.length<10){ coErr.textContent="Некоректний телефон."; coErr.classList.add("show"); return; }
        if(!agree){ coErr.textContent="Підтвердіть згоду з умовами."; coErr.classList.add("show"); return; }

        const p=getPrices(); const amountUAH = selectedPlan==="group"?p.group:p.indiv;
        coBtn.disabled=true; coBtn.textContent="Створюємо платіж…";

        const HOME = location.origin + location.pathname.replace(/[^/]*$/, '');
        try{
          const res=await fetch(MONO_ENDPOINT,{
            method:"POST",
            headers:{"content-type":"application/json"},
            body:JSON.stringify({plan:selectedPlan, amountUAH, email, phone, firstName, lastName, home: HOME})
          });
          if(!res.ok) throw new Error("Помилка сервера. Спробуйте ще раз.");
          const data=await res.json();
          const thankUrl = `${THANK}?ref=${encodeURIComponent(data.reference)}&invoiceId=${encodeURIComponent(data.invoiceId||'')}&pay=${encodeURIComponent(data.pageUrl)}&plan=${encodeURIComponent(selectedPlan)}&home=${encodeURIComponent(HOME)}`;
          window.location.replace(thankUrl);
        }catch(err){
          console.error(err);
          const isNetwork = (err && String(err.message).toLowerCase().includes('failed to fetch'));
          coErr.textContent = isNetwork ? "Немає зв’язку з бекендом оплати (можливо, ендпоїнт /mono/checkout ще не розгорнутий або CORS)." : (err.message || "Не вдалося створити платіж.");
          coErr.classList.add("show");
          coBtn.disabled=false; coBtn.textContent="Перейти до оплати";
        }
      });
    })();

    /* ===== PROGRAM: авто-кількість модулів у бейджах ===== */
    (function(){
      function uaDecl(n, one, few, many){
        n = Math.abs(n)%100; const n1 = n%10;
        if(n>10 && n<20) return many;
        if(n1>1 && n1<5) return few;
        if(n1===1) return one;
        return many;
      }
      const tracks = document.querySelectorAll('#program details.track');
      tracks.forEach(track=>{
        const items = track.querySelectorAll('ol.tListPro > li');
        const badge = track.querySelector('.tBadge');
        if(!badge) return;
        const n = items.length;
        badge.textContent = `${n} ${uaDecl(n,'модуль','модулі','модулів')}`;
      });
    })();
  </script>
</body>
</html>
